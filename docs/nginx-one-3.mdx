---
title: NGINX One Console (Manual Configuration)
description: An optional lab continuing usage of the NGINX One Console
order: 3
---

## NGINX OSS (Optional)

The NGINX One Console supports both NGINX Plus and NGINX OSS. Both products leverage the NGINX Agent to communicate with the NGINX One Console API.
The UDF blueprint contains a Ubuntu host with the package maintainerâ€™s version of NGINX OSS installed.  In this section we will install NGINX Agent and connect this instance to the NGINX One Console.

### Installing NGINX Agent on NGINX OSS

1. Connect to the "NGINX OSS" instance in UDF through the Web Shell access method by clicking the *Open Web Shell* button below:

    <UDFComponent
        name="NGINX OSS"
    />

1. Because the hostname is used as the name of the instance in NGINX One, you should change the hostname to something that identifies it as yours, such as **<GetVariable name="petname" />-ubuntu-oss**.
Ensure that you are working on the NGINX OSS instance (default hostname ip-10.1.1.6), and run the following command below using only lowercase characters and hyphens.

    > **Note:** The bash prompt will continue to show the previous hostname unless you log out and log back in. This does not affect the lab.

        ```bash
        sudo hostnamectl set-hostname {{petname}}-ubuntu-oss
        ```

1. From the NGINX OSS instance, run the following command to install the NGINX Agent. Substitute data-plane-key with the key you saved in the first lab. Make sure you are working on the NGINX OSS instance; if you accidentally install on the jumphost, the installation will succeed, but there will be no NGINX instance for the agent to connect to and the instance will appear as "Offline". If this occurs, return to the directions in lab 1 to create a new Data Plane Key.

        ```bash
        curl https://agent.connect.nginx.com/nginx-agent/install | DATA_PLANE_KEY='data-plane-key' sh -s -- -y
        ```

    The install script will install any necessary dependencies, and install the NGINX Agent with the appropriate settings for your system. You will see a warning about "stub_status" not being configured. You can ignore that warning.

1. Return to the NGINX One console. From the left menu in the *Manage* section, click *Instances*. You should see your new instance in the list.

1. Click its hostname to view the instance details.

    ![Instance list](media/lab4-2.png)

1. Explore the instance details.

    ![Instance Details](media/lab4-3.png)

    Note that this instance has a different set of configuration recommendations than the vanilla NGINX Plus instance did. Package maintainers may ship NGINX with their own sets of defaults, which may or may not align with best practices. NGINX One provides a centralized view of such recommendations across the organization.

<APICheck
url="http://1.1.1.6"
targetStatusCode={200}
/>

## NGINX Docker (Optional)

The **Lab Framework** from the UDF environment has **docker** installed and is setup so it can run an NGINX Plus container image. The container image we will use here is **private-registry.nginx.com/nginx-plus/agent:debian** which has NGINX Plus with the Agent. If you want to see a list of all NGINX Plus with Agent tags, refer to the [documentation](https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-docker/#pulling-the-image).

1. Go to the *Details* page of your Config Sync Group then click *Add Instance to Config Sync Group*.

1. Select *Register a new instance with NGINX One then add to config sync group* then click *Next*.

1. If you saved your Data Plane Key from a previous lab, select *Use existing Key*. Otherwise select *Generate new key*.

1. Provide your Data Plane Key if you selected *Use existing Key*.

1. Select the *Docker Container* tab.

    ![Add New NGINX Plus Container](media/lab5-17.png)

    > **Note:** This system already cached the container image, so Steps 1 and 2 from above can be skipped.

1. Open a Web Shell to the **Lab Framework** UDF instance and start an NGINX Plus container with the commands to join it to your Config Sync Group.

    <UDFComponent
        name="Lab Framework"
    />

1. Run the *docker run* command outlined in Step 3 to start the NGINX Plus with Agent container. This command will also add this NGINX instance to your Config Sync Group.

        ```shell
        sudo docker run \
        --env=NMS_SERVER_GRPCPORT=443 \
        --env=NMS_SERVER_HOST=agent.connect.nginx.com \
        --env=NMS_SERVER_TOKEN="{{NGINX_AGENT_SERVER_TOKEN}}" \
        --env=NGINX_AGENT_INSTANCE_GROUP={{NGINX_AGENT_INSTANCE_GROUP_OSS}} \
        --env=NMS_TLS_ENABLE=true \
        --restart=always \
        --runtime=runc \
        -d private-registry.nginx.com/nginx-plus/agent:debian
        ```

1. Click *Done* to close the window.

You will now see the second NGINX Plus instance added.

<APICheck
url="http://1.1.1.7"
targetStatusCode={200}
/>
